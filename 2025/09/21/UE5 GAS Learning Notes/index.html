<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="This is a space where I can share my thoughts and works with freely.">
    

    <!--Author-->
    
        <meta name="author" content="Eugene Hsuan">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="UE5 GAS Learning Notes"/>
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Eugene&#39;s Page"/>

    <!--Page Cover-->
    
        <meta property="og:image" content=""/>
    

    <!-- Title -->
    
    <title>UE5 GAS Learning Notes - Eugene&#39;s Page</title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/reset.css">

    
<link rel="stylesheet" href="/css/main.css">

    
<link rel="stylesheet" href="/css/table.css">

    
<link rel="stylesheet" href="/css/image-zoom.css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Mermaid Support -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.3/dist/mermaid.min.js"></script>

    <!-- Google Analytics -->
    


    <!--Favicon-->
    
        <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
    

<meta name="generator" content="Hexo 7.3.0"></head>

<body>

<!-- Menu -->
<!-- Navigation -->
<header>
    <div class="logo">
        <a href="/">Eugene's Page</a>
        <div class="subtitle">Filmmaker / Developer</div>
        <div class="description">This is a space where I can share my thoughts and works with freely.</div>
    </div><!-- end logo -->

    <div id="menu_icon"></div>
    <nav>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives">Archives</a>
            </li>
            
        </ul>
    </nav><!-- end navigation menu -->

    <div class="footer clearfix">
        <ul class="social clearfix">
            
                <li><a href="https://space.bilibili.com/29291963" class="behance" target="_blank" data-title="Bilibili"></a></li>
            
            
                <li><a href="https://www.instagram.com/yu_chinghsuan?igsh=Mm54ajloc3c1NW5m&utm_source=qr" class="instagram" target="_blank" data-title="Instagram"></a></li>
            
            
                <li><a href="https://www.douban.com/people/Youdrew_Xuan/" class="dribble" target="_blank" data-title="Douban"></a></li>
            
            
                <li><a href="mailto:youdrewxuan@icloud.com" class="google" target="_blank" data-title="Email"></a></li>
            
            
                <li><a href="/atom.xml" class="rss" target="_blank" data-title="RSS"></a></li>
            
        </ul><!-- end social -->

        <div class="rights">
            <p>Copyright Â© 2025 Eugene Hsuan</p>
            <p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></p>
            <p>Modified based on <a href="https://github.com/klugjo/hexo-theme-magnetic" target="_blank">Magnetic</a> theme</p>
        </div><!-- end rights -->
    </div ><!-- end footer -->
</header><!-- end header -->


<!-- Main Content -->
<section class="main clearfix">

    <section class="top" style="background: url('https://s2.loli.net/2025/09/13/vlTKo196wnDypC2.png');">
        <div class="wrapper content_header clearfix">
            

<div class="work_nav">

    <ul class="btn clearfix">
        
        <li><a class="previous disabled"></a></li>
        
        <li><a href="/" class="grid" data-title="Portfolio"></a></li>
        
        <li><a href="/2025/09/13/Aximmetry/" class="next" data-title="Aximmetry Learnin..."></a></li>
        
    </ul>

</div><!-- end work_nav -->
            <h1 class="title">UE5 GAS Learning Notes</h1>
        </div>
    </section><!-- end top -->

    <section class="wrapper">
        <div class="content">

            <!-- Gallery -->
            

            <!-- Content -->
            <h1 id="Unreal-GASç³»ç»Ÿä½¿ç”¨å­¦ä¹ "><a href="#Unreal-GASç³»ç»Ÿä½¿ç”¨å­¦ä¹ " class="headerlink" title="Unreal GASç³»ç»Ÿä½¿ç”¨å­¦ä¹ "></a>Unreal GASç³»ç»Ÿä½¿ç”¨å­¦ä¹ </h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Gameplay Ability Systemï¼Œç®€ç§°(GAS)æ˜¯ä¸€ä¸ªå¥å£®çš„ã€é«˜åº¦å¯æ‰©å±•çš„ã€gameplayæ¡†æ¶,é€šå¸¸ç”¨äºæ„å»ºRPGã€MOBAç­‰æ¸¸æˆçš„å®Œæ•´æˆ˜æ–—é€»è¾‘æ¡†æ¶ã€‚é€šè¿‡GAS,å¯ä»¥å¿«é€Ÿåœ°åˆ¶ä½œæ¸¸æˆä¸­çš„ä¸»åŠ¨&#x2F;è¢«åŠ¨æŠ€èƒ½ã€å„ç§æ•ˆæœbuffã€è®¡ç®—å±æ€§ä¼¤å®³ã€å¤„ç†ç©å®¶å„ç§æˆ˜æ–—çŠ¶æ€é€»è¾‘ã€‚</p>
<h3 id="GASæä¾›äº†å“ªäº›åŠŸèƒ½"><a href="#GASæä¾›äº†å“ªäº›åŠŸèƒ½" class="headerlink" title="GASæä¾›äº†å“ªäº›åŠŸèƒ½?"></a>GASæä¾›äº†å“ªäº›åŠŸèƒ½?</h3><ol>
<li>å®ç°äº†å¸¦æœ‰æ¶ˆè€—å’Œå†·å´åŠŸèƒ½çš„è§’è‰²æŠ€èƒ½</li>
<li>å¤„ç†æ•°å€¼å±æ€§(ç”Ÿå‘½ã€é­”æ³•ã€æ”»å‡»åŠ›ã€é˜²å¾¡åŠ›)</li>
<li>åº”ç”¨çŠ¶æ€æ•ˆæœ(å‡»é£ã€ç€ç«ã€çœ©æ™•)</li>
<li>åº”ç”¨æ¸¸æˆæ ‡ç­¾(GameplayTags)</li>
<li>ç”Ÿæˆç‰¹æ•ˆå’ŒéŸ³æ•ˆ</li>
<li>å®Œæ•´çš„ç½‘ç»œå¤åˆ¶ã€é¢„æµ‹åŠŸèƒ½</li>
</ol>
<h3 id="é€‚åˆä½¿ç”¨GASçš„é¡¹ç›®"><a href="#é€‚åˆä½¿ç”¨GASçš„é¡¹ç›®" class="headerlink" title="é€‚åˆä½¿ç”¨GASçš„é¡¹ç›®"></a>é€‚åˆä½¿ç”¨GASçš„é¡¹ç›®</h3><ol>
<li>C++é¡¹ç›®,å¼€å‘äººå‘˜æœ‰å……è¶³çš„C++å¼€å‘ç»éªŒ</li>
<li>ä½¿ç”¨Dedicated Serverä¸“ç”¨æœåŠ¡å™¨çš„è”æœºæ¸¸æˆï¼ˆå•çº¯çš„æ¸¸æˆé€»è¾‘æœåŠ¡ç«¯ï¼Œä¸Dedicated Serverç›¸å¯¹çš„æ˜¯Listen Serverï¼Œå…¶ä¸­ä¸€ä½ç©å®¶å……å½“æœåŠ¡å™¨ï¼Œå®¹æ˜“å‡ºç°â€œä¸»æœºä¼˜åŠ¿â€ï¼‰</li>
<li>é¡¹ç›®æœ‰å¤§é‡ä¸”å¤æ‚çš„æŠ€èƒ½é€»è¾‘è®¾è®¡éœ€æ±‚</li>
</ol>
<h3 id="æˆ‘ä¸ºä»€ä¹ˆå­¦ä¹ GAS"><a href="#æˆ‘ä¸ºä»€ä¹ˆå­¦ä¹ GAS" class="headerlink" title="æˆ‘ä¸ºä»€ä¹ˆå­¦ä¹ GAS"></a>æˆ‘ä¸ºä»€ä¹ˆå­¦ä¹ GAS</h3><p>å…¬å¸çš„é¡¹ç›®éœ€è¦ä½¿ç”¨åˆ°è”ç½‘çš„æ¸¸æˆæœåŠ¡ã€‚æ‰€ä»¥ä½ ä¼šåœ¨æˆ‘çš„ç¬”è®°ä¸­çœ‹åˆ°ä¸€äº›æ–œä½“çš„å¤‡æ³¨ï¼Œè¿™äº›å¤‡æ³¨æ„å‘³ç€å¯¹æˆ‘è‡ªå·±é¡¹ç›®çš„å¤‡æ³¨ã€‚å¯ä»¥å¿½ç•¥ã€‚</p>
<h2 id="GASçš„ç»„ä»¶"><a href="#GASçš„ç»„ä»¶" class="headerlink" title="GASçš„ç»„ä»¶"></a>GASçš„ç»„ä»¶</h2><h3 id="ASCï¼šwhoè°èƒ½æ”¾æŠ€èƒ½ï¼Ÿ"><a href="#ASCï¼šwhoè°èƒ½æ”¾æŠ€èƒ½ï¼Ÿ" class="headerlink" title="ASCï¼šwhoè°èƒ½æ”¾æŠ€èƒ½ï¼Ÿ"></a>ASCï¼šwhoè°èƒ½æ”¾æŠ€èƒ½ï¼Ÿ</h3><p>Ability System Componentï¼ˆASCï¼‰æ˜¯æ•´ä¸ª GAS çš„åŸºç¡€ç»„ä»¶ã€‚ASC æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª UActorComponentï¼Œç”¨äºå¤„ç†æ•´ä¸ªæ¡†æ¶ä¸‹çš„äº¤äº’é€»è¾‘ï¼ŒåŒ…æ‹¬ä½¿ç”¨æŠ€èƒ½ï¼ˆGameplayAbilityï¼‰ã€åŒ…å«å±æ€§ï¼ˆAttributeSetï¼‰ã€å¤„ç†å„ç§æ•ˆæœï¼ˆGameplayEffectï¼‰ã€‚æ‰€æœ‰éœ€è¦åº”ç”¨ GAS çš„å¯¹è±¡ï¼ˆActorï¼‰ï¼Œéƒ½å¿…é¡»æ‹¥æœ‰ GAS ç»„ä»¶ã€‚ï¼ˆå³æ‰€æœ‰æœ‰æŠ€èƒ½äº¤äº’çš„è§’è‰²éƒ½æ˜¯ASCï¼‰ã€‚</p>
<ul>
<li>ASCæ˜¯ä¸€ç§è§’è‰²ç»„ä»¶ï¼Œè´Ÿè´£å’ŒGAã€GEã€ASæ‰“äº¤é“ã€‚</li>
<li>ä¸€èˆ¬åªæ”¾åœ¨Character or PlayerStateä¸Šã€‚</li>
<li>æ‹¥æœ‰ ASC çš„ Actor è¢«ç§°ä¸º ASC çš„ OwnerActorï¼ŒASC å®é™…ä½œç”¨çš„ Actor å«åš AvatarActorã€‚</li>
</ul>
<h3 id="GAï¼šHow-æŠ€èƒ½çš„é€»è¾‘ï¼Ÿ"><a href="#GAï¼šHow-æŠ€èƒ½çš„é€»è¾‘ï¼Ÿ" class="headerlink" title="GAï¼šHow:æŠ€èƒ½çš„é€»è¾‘ï¼Ÿ"></a><strong>GA</strong>ï¼šHow:æŠ€èƒ½çš„é€»è¾‘ï¼Ÿ</h3><p>Gameplay Abilityï¼ˆGAï¼‰<u>æ ‡è¯†äº†æ¸¸æˆä¸­ä¸€ä¸ªå¯¹è±¡ï¼ˆActorï¼‰å¯ä»¥åšçš„è¡Œä¸ºæˆ–æŠ€èƒ½</u>ã€‚å®ƒä»£è¡¨è§’è‰²å¯ä»¥æ‰§è¡Œçš„ä»»ä½•æŠ€èƒ½æˆ–è¡Œä¸ºã€‚<br>èƒ½åŠ›ï¼ˆAbilityï¼‰å¯ä»¥æ˜¯æ™®é€šæ”»å‡»æˆ–è€…åŸå”±æŠ€èƒ½ï¼Œå¯ä»¥æ˜¯è§’è‰²è¢«å‡»é£å€’åœ°ï¼Œè¿˜å¯ä»¥æ˜¯ä½¿ç”¨æŸç§é“å…·ï¼Œäº¤äº’æŸä¸ªç‰©ä»¶ï¼Œç”šè‡³è·³è·ƒã€é£è¡Œç­‰è§’è‰²è¡Œä¸ºä¹Ÿå¯ä»¥æ˜¯Abilityã€‚<br>Abilityå¯ä»¥è¢«èµ‹äºˆå¯¹è±¡æˆ–ä»å¯¹è±¡çš„ASCä¸­ç§»é™¤ï¼Œå¯¹è±¡åŒæ—¶å¯ä»¥æ¿€æ´»å¤šä¸ªGameplayAbilityã€‚</p>
<ul>
<li>åŸºæœ¬çš„ç§»åŠ¨è¾“å…¥ã€UIäº¤äº’è¡Œä¸ºåˆ™ä¸èƒ½æˆ–ä¸å»ºè®®é€šè¿‡GAæ¥å®ç°ã€‚</li>
<li>é€šè¿‡è“å›¾ç»§æ‰¿GamePlay Abilityæ¥å®ç°</li>
</ul>
<h4 id="GAçš„æ‰§è¡Œæµç¨‹"><a href="#GAçš„æ‰§è¡Œæµç¨‹" class="headerlink" title="GAçš„æ‰§è¡Œæµç¨‹"></a>GAçš„æ‰§è¡Œæµç¨‹</h4><div class="mermaid" style="background: white; border: 1px solid #e1e1e1; border-radius: 4px; padding: 20px;">
graph TD
    A[TryActivateAbility] --> B{CanActivateAbility}
    B -->|Yes| C[ActivateAbility]
    B -->|No| D[EndAbility]
    C --> E[Start AbilityTask]
    E -->|Some Time Later| F[CommitAbility]
    F -->|Can't Afford| D
    F --> G[Start AbilityTask]
    G -->|Some Time Later| H[Apply GameplayEffects]
    G --> I[Start AbilityTask]
    I -->|Some Time Later| J[Apply GameplayEffects]
    I -->|Some Time Later| K[End Ability]
    D --> L[OnEndAbility]
    K --> L
    L --> M[Cleanup]
</div>

<ol>
<li><span style="color: blue;">TryActivateAbility</span> ï¼šé¦–å…ˆåˆ¤æ–­ä¸€ä¸‹èƒ½ä¸èƒ½æ‰§è¡Œã€‚</li>
<li><span style="color: green;">ActivateAbility</span>ï¼šæ‰§è¡Œä¸€å¥—æŠ€èƒ½ï¼ˆæœ‰æŠ€èƒ½åŠ¨ç”»ï¼Œæ¯”å¦‚å‘å°„ä¸€ä¸ªç«ç„°ï¼‰ã€‚</li>
<li><span style="color: #9C27B0;">CommitAbility</span>ï¼šæŠ€èƒ½é‡Šæ”¾äº†æˆåŠŸäº†ï¼Œè¦æ‰£è“ã€‚</li>
<li><span style="color: #ffeb3b;">Start AbilityTask</span> * 2:æŠ€èƒ½æ‰§è¡Œä¸­â€¦æŠ€èƒ½æ‰§è¡Œç»“æŸã€‚ç„¶ååº”ç”¨å¯¹åº”æ•ˆæœã€‚</li>
</ol>
<p>å…¶ä¸­ActivateAbilityå’ŒEnd Abilityæ˜¯ç±»ä¼¼äºBeginPlayå’ŒEndPlayè¿™æ ·çš„å‡½æ•°ï¼Œåœ¨è“å›¾ä¸­è°ƒç”¨ã€‚</p>
<h4 id="è“å›¾ä¸­çš„è®¾ç½®"><a href="#è“å›¾ä¸­çš„è®¾ç½®" class="headerlink" title="è“å›¾ä¸­çš„è®¾ç½®"></a>è“å›¾ä¸­çš„è®¾ç½®</h4><h4 id="ä¸»è¦é€‰é¡¹è§£é‡Š"><a href="#ä¸»è¦é€‰é¡¹è§£é‡Š" class="headerlink" title="ä¸»è¦é€‰é¡¹è§£é‡Š"></a>ä¸»è¦é€‰é¡¹è§£é‡Š</h4><h5 id="å¸¸è§è“å›¾"><a href="#å¸¸è§è“å›¾" class="headerlink" title="å¸¸è§è“å›¾"></a>å¸¸è§è“å›¾</h5><ul>
<li>EndAbility ç»“æŸè¿™ä¸ªèƒ½åŠ›</li>
</ul>
<h5 id="é«˜çº§è®¾ç½®"><a href="#é«˜çº§è®¾ç½®" class="headerlink" title="é«˜çº§è®¾ç½®"></a>é«˜çº§è®¾ç½®</h5><div style="text-align: center;">
  <img src="https://s2.loli.net/2025/10/29/Ndl5QoW8hUkyKrw.png" alt="image-20251028173049722" width="50%" />
</div>

<ul>
<li><p><strong>Replication Policy</strong>ï¼ˆå¤åˆ¶ç­–ç•¥ï¼‰ï¼š å†³å®šè¯¥Abilityçš„æ¿€æ´»ã€æ‰§è¡Œç­‰ä¿¡æ¯æ˜¯å¦åœ¨ç½‘ç»œä¸Šä¼ æ’­ã€‚å¸¸è§é€‰é¡¹æœ‰ï¼š</p>
<ul>
<li>Not Replicatedï¼šä»…æœ¬åœ°æ‰§è¡Œï¼Œä¸åŒæ­¥åˆ°å…¶ä»–å®¢æˆ·ç«¯&#x2F;æœåŠ¡å™¨ã€‚</li>
<li>Replicatedï¼šåœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´åŒæ­¥ã€‚</li>
</ul>
</li>
<li><p><strong>Instancing Policy</strong>ï¼ˆå®ä¾‹åŒ–ç­–ç•¥ï¼‰ï¼š å†³å®šAbilityçš„å®ä¾‹åŒ–æ–¹å¼ã€‚</p>
<ul>
<li>Non-Instancedï¼šæ‰€æœ‰æ¿€æ´»è€…å…±äº«åŒä¸€ä¸ªAbilityå¯¹è±¡ï¼Œé€‚åˆæ— çŠ¶æ€é€»è¾‘ã€‚</li>
<li>Instanced Per Actorï¼šæ¯ä¸ªæ‹¥æœ‰è€…æœ‰ç‹¬ç«‹å®ä¾‹ï¼Œé€‚åˆæœ‰çŠ¶æ€é€»è¾‘ã€‚</li>
<li>Instanced Per Executionï¼šæ¯æ¬¡æ¿€æ´»éƒ½æ–°å»ºå®ä¾‹ï¼Œé€‚åˆéœ€è¦éš”ç¦»çŠ¶æ€çš„å¤æ‚æŠ€èƒ½ã€‚</li>
</ul>
</li>
<li><p><strong>Server Respects Remote Ability Cancellation</strong>ï¼ˆæœåŠ¡å™¨å°Šé‡è¿œç«¯å–æ¶ˆï¼‰ï¼šå‹¾é€‰åï¼ŒæœåŠ¡å™¨ä¼šå“åº”å®¢æˆ·ç«¯è¯·æ±‚å–æ¶ˆAbilityçš„æ“ä½œã€‚é€‚åˆéœ€è¦å®¢æˆ·ç«¯ä¸»åŠ¨å–æ¶ˆæŠ€èƒ½çš„åœºæ™¯ã€‚</p>
</li>
<li><p><strong>Retrigger Instanced Ability</strong>ï¼ˆå¯é‡å¤è§¦å‘å®ä¾‹åŒ–Abilityï¼‰ï¼šå…è®¸Abilityåœ¨å·²æ¿€æ´»æ—¶å†æ¬¡è¢«æ¿€æ´»ï¼ˆä¼šé‡æ–°å®ä¾‹åŒ–ï¼‰ï¼Œé€‚åˆå¯å åŠ æˆ–å¯é‡å¤é‡Šæ”¾çš„æŠ€èƒ½ã€‚</p>
</li>
<li><p><strong>Net Execution Policy</strong>ï¼ˆç½‘ç»œæ‰§è¡Œç­–ç•¥ï¼‰ï¼šå†³å®šAbilityçš„æ¿€æ´»å’Œæ‰§è¡Œåœ¨å“ªç«¯è¿›è¡Œã€‚</p>
<ul>
<li>Local Predictedï¼šå®¢æˆ·ç«¯é¢„æµ‹æ‰§è¡Œï¼ŒæœåŠ¡å™¨æ ¡éªŒã€‚</li>
<li>Local Onlyï¼šä»…æœ¬åœ°æ‰§è¡Œã€‚</li>
<li>Server Onlyï¼šä»…æœåŠ¡å™¨æ‰§è¡Œã€‚</li>
<li>Server Initiatedï¼šæœåŠ¡å™¨å‘èµ·ï¼Œå®¢æˆ·ç«¯å¯å‚ä¸ã€‚</li>
</ul>
</li>
<li><p><strong>Net Security Policy</strong>ï¼ˆç½‘ç»œå®‰å…¨ç­–ç•¥ï¼‰ï¼šæ§åˆ¶Abilityçš„å®‰å…¨ç­‰çº§ï¼Œé˜²æ­¢è¢«æ¶æ„å®¢æˆ·ç«¯æ»¥ç”¨ã€‚</p>
<ul>
<li>Client Or Serverï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¯æ¿€æ´»ã€‚</li>
<li>Server Only Executionï¼šåªæœ‰æœåŠ¡å™¨å¯æ¿€æ´»ã€‚</li>
<li>Server Only Execution and Dataï¼šåªæœ‰æœåŠ¡å™¨å¯æ¿€æ´»ä¸”æ•°æ®ä»…åœ¨æœåŠ¡å™¨ã€‚</li>
</ul>
</li>
</ul>
<h4 id="GAè¦åšçš„äº‹æƒ…"><a href="#GAè¦åšçš„äº‹æƒ…" class="headerlink" title="GAè¦åšçš„äº‹æƒ…"></a>GAè¦åšçš„äº‹æƒ…</h4><div style="text-align: center;">
  <img src="https://s2.loli.net/2025/10/29/jaloAZzDKkq5fx2.png" alt="image-20251028200009953" width="50%" />
</div>

<p>ä¸€èˆ¬GAè¦åšçš„äº‹æœ‰ï¼š</p>
<ul>
<li>è®¾ç½®GAçš„Tagã€CDã€Costç­‰å±æ€§ã€‚</li>
<li>è·å–å¿…è¦ä¿¡æ¯ï¼Œä¸»è¦é€šè¿‡Get Actor Infoã€‚å¦‚æœæ˜¯é€šè¿‡Eventè°ƒç”¨çš„GAï¼ˆä½¿ç”¨Activate Ability From EventèŠ‚ç‚¹ä½œä¸ºè¾“å…¥ï¼‰ï¼Œè¿˜å¯ä»¥é€šè¿‡Gameplay Event Dataè·å–ã€‚</li>
<li>ç¼–å†™é€»è¾‘ï¼Œå¦‚æ’­æ”¾åŠ¨ç”»ã€åº”ç”¨GEã€åº”ç”¨å†²é‡ç­‰ã€‚</li>
<li>ä¸€å®šä¸è¦å¿˜äº†EndAbilityã€‚</li>
</ul>
<h4 id="GAçš„è°ƒç”¨"><a href="#GAçš„è°ƒç”¨" class="headerlink" title="GAçš„è°ƒç”¨"></a>GAçš„è°ƒç”¨</h4><p>GAçš„è°ƒç”¨åˆ†æˆäº†ä¸»åŠ¨è°ƒç”¨ï¼ˆé‡Šæ”¾æŠ€èƒ½ï¼‰å’Œè¢«åŠ¨è°ƒç”¨ï¼ˆæŒ¨æ‰“ï¼‰ä¸¤ç±»ï¼Œä¸‹é¢ä¾æ¬¡ä»‹ç»ä¸åŒçš„è°ƒç”¨æ–¹æ³•ã€‚</p>
<h5 id="ä¸»åŠ¨è°ƒç”¨"><a href="#ä¸»åŠ¨è°ƒç”¨" class="headerlink" title="ä¸»åŠ¨è°ƒç”¨"></a>ä¸»åŠ¨è°ƒç”¨</h5><p>åœ¨è“å›¾ä¸­ä¸»è¦æœ‰by Classå’Œby Tag ä¸¤ç§è°ƒç”¨æ–¹æ³•ã€‚</p>
<div style="text-align: center;">
  <img src="https://pic4.zhimg.com/v2-0671623b3bf57f42b92903bfc3acb667_1440w.jpg" alt="img" width="50%" />
</div>

<p>byClassä¸€æ¬¡åªèƒ½Activateä¸€ä¸ªGAï¼ŒbyTagå¯ä»¥Activateä»»æ„å¤šä¸ªGAï¼Œé…åˆTagå®¹å™¨ä½¿ç”¨ã€‚</p>
<p>å¦‚æœä½¿ç”¨EnhancedInputActionæ’ä»¶æ¥ç®¡ç†è¾“å…¥ï¼Œè¦æ³¨æ„åœ¨æŸäº›è®¾ç½®ä¸‹triggerä¼šæ¯å¸§éƒ½è¿›è¡Œè¾“å‡ºï¼ˆæœ¬äººæµ‹è¯•ç¯å¢ƒä¸º4.27ï¼ŒUE5ä¼¼ä¹æœ‰ä¸€äº›æ”¹åŠ¨ã€‚<br>1.62GB<br>å¤ä»£å±±è°·é¡¹ç›®å°±ä½¿ç”¨äº†æ–°ç‰ˆè¾“å…¥æ’ä»¶å’ŒGASç³»ç»Ÿï¼Œå¯ä»¥çœ‹ä¸€çœ‹å®ç°æ–¹æ³•ï¼‰ã€‚</p>
<p>åªè¦èƒ½è·å–ASCï¼Œå°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨GAï¼Œæ¯”å¦‚è¡Œä¸ºæ ‘Taskè“å›¾ï¼Œç”šè‡³åœ¨GAè“å›¾ä¸­è°ƒç”¨å…¶ä»–GAã€‚</p>
<h5 id="è¢«åŠ¨è°ƒç”¨"><a href="#è¢«åŠ¨è°ƒç”¨" class="headerlink" title="è¢«åŠ¨è°ƒç”¨"></a>è¢«åŠ¨è°ƒç”¨</h5><p>Triggerå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªTagï¼Œå½“ASCç»„ä»¶æ”¶åˆ°ä¸€ä¸ªTriggeræ—¶ï¼Œå°±ä¼šè‡ªåŠ¨è°ƒç”¨æ‰€æœ‰æ‹¥æœ‰è¯¥Triggerçš„GAã€‚</p>
<p>Triggerçš„Tagåœ¨GAçš„detailsé¢æ¿ä¸­è®¾ç½®ã€‚</p>
<div style="text-align: center;">
  <img src="https://pic2.zhimg.com/v2-9fdb393dae4753b3539245b335c3a531_1440w.jpg" alt="img" width="50%" />
</div>

<p>Triggerçš„è§¦å‘æ–¹å¼æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>Gameplay Event: å½“Owneræ”¶åˆ°ä¸€ä¸ªå¸¦æœ‰Tagçš„Gameplay Eventï¼ˆ<strong>ä¸æ˜¯Gameplay Effectçš„GEï¼</strong>ï¼‰æ—¶<strong>è°ƒç”¨ä¸€æ¬¡</strong>GAï¼Œæ­¤æ—¶Owner<strong>ä¸ä¼šæ‹¥æœ‰å¯¹åº”çš„Tag</strong>ã€‚</li>
<li>Owner Tag Added: å½“Owner<strong>è·å–å¯¹åº”Tag</strong>çš„æ—¶å€™<strong>è°ƒç”¨ä¸€æ¬¡</strong>GAã€‚</li>
<li>Owner Tag Present: å½“Owner<strong>æ‹¥æœ‰Tag</strong>æ—¶è°ƒç”¨GAï¼Œå¤±å»Tagæ—¶ç§»é™¤ã€‚</li>
</ul>
<p>ä¸€èˆ¬ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå¹¶é…åˆSendGameplayEventToActorèŠ‚ç‚¹ä½¿ç”¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ï¼ˆè¿™å¼ å›¾æ˜¯å¾ˆä¹…ä»¥å‰æˆªçš„ï¼ŒTagå»ºè®®ä»¥Eventå¼€å¤´ï¼‰</p>
<img src="https://pica.zhimg.com/v2-0759f3f09591c5a808113d8841733b38_1440w.jpg" alt="img" style="zoom: 50%;" />

<p>å—å‡»æ•ˆæœçš„ä¾‹å­ï¼Œå‘é€ä¸€ä¸ªTagä¸ºHitçš„Eventç»™ç¢°æ’æ£€æµ‹åˆ°çš„Actor</p>
<p>ä½¿ç”¨Gameplay Eventè°ƒç”¨çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥ä¼ å…¥æ•°æ®ï¼ˆPayloadï¼‰ï¼Œæ˜¯é™¤äº†Get Actor Infoå¤–çš„å¦ä¸€ç§ä¿¡æ¯ä¼ é€’æ–¹æ³•ã€‚</p>
<p>æ­¤æ—¶åº”è¯¥åˆ é™¤ActiveAbilityèŠ‚ç‚¹ï¼Œè½¬è€Œä½¿ç”¨ActivateAbilityFromEventäº‹ä»¶ã€‚ï¼ˆ<strong>ä¸è¦é€šè¿‡åœ¨å·¦ä¸Šè§’é‡è½½å‡½æ•°çš„æ–¹å¼ï¼Œå³é”®ç©ºç™½å¤„æœç´¢æ‰æ˜¯å¯¹çš„</strong>ï¼‰</p>
<h3 id="GEï¼šWhatæŠ€èƒ½æ”¹å˜çš„å±æ€§ï¼Ÿ"><a href="#GEï¼šWhatæŠ€èƒ½æ”¹å˜çš„å±æ€§ï¼Ÿ" class="headerlink" title="GEï¼šWhatæŠ€èƒ½æ”¹å˜çš„å±æ€§ï¼Ÿ"></a>GEï¼šWhatæŠ€èƒ½æ”¹å˜çš„å±æ€§ï¼Ÿ</h3><p>Gameplay Effectï¼ˆGEï¼‰æ˜¯Abilityå¯¹<strong>è‡ªå·±æˆ–ä»–äººäº§ç”Ÿå½±å“çš„é€”å¾„</strong>ã€‚<br>GEé€šå¸¸å¯ä»¥è¢«ç†è§£ä¸ºæˆ‘ä»¬æ¸¸æˆä¸­çš„buffã€‚æ¯”å¦‚å¢ç›Š&#x2F;å‡ç›Šæ•ˆæœï¼ˆä¿®æ”¹å±æ€§ï¼‰ã€‚<br>ä½†æ˜¯GASä¸­çš„GEä¹Ÿæ›´åŠ å¹¿ä¹‰ï¼Œé‡Šæ”¾æŠ€èƒ½æ—¶å€™çš„ä¼¤å®³ç»“ç®—ï¼Œæ–½åŠ ç‰¹æ®Šæ•ˆæœçš„æ§åˆ¶ã€éœ¸ä½“æ•ˆæœï¼ˆä¿®æ”¹GameplayTagï¼‰éƒ½æ˜¯é€šè¿‡GEæ¥å®ç°çš„ã€‚</p>
<ul>
<li><u>GEç›¸å½“äºä¸€ä¸ªå¯é…ç½®çš„æ•°æ®è¡¨</u>ï¼Œä¸å¯ä»¥æ·»åŠ é€»è¾‘ã€‚å¼€å‘è€…åˆ›å»ºä¸€ä¸ªUGameplayEffectçš„æ´¾ç”Ÿè“å›¾ï¼Œå°±å¯ä»¥æ ¹æ®éœ€æ±‚åˆ¶ä½œæƒ³è¦çš„æ•ˆæœã€‚</li>
<li>GEæ˜¯çº¯è“å›¾</li>
</ul>
<h3 id="GTï¼šifæŠ€èƒ½æ”¹å˜çš„æ¡ä»¶ï¼Ÿ"><a href="#GTï¼šifæŠ€èƒ½æ”¹å˜çš„æ¡ä»¶ï¼Ÿ" class="headerlink" title="GTï¼šifæŠ€èƒ½æ”¹å˜çš„æ¡ä»¶ï¼Ÿ"></a>GTï¼šifæŠ€èƒ½æ”¹å˜çš„æ¡ä»¶ï¼Ÿ</h3><p>FGameplayTagsæ˜¯ä¸€ç§å±‚çº§æ ‡ç­¾ï¼Œå¦‚Parent.Child.GrandChildã€‚<br>é€šè¿‡GameplayTagManagerè¿›è¡Œæ³¨å†Œã€‚<br>æ›¿ä»£äº†åŸæ¥çš„Boolï¼Œæˆ–Enumçš„ç»“æ„ï¼Œå¯ä»¥åœ¨ç©æ³•è®¾è®¡ä¸­æ›´é«˜æ•ˆçš„<strong>æ ‡è®°å¯¹è±¡çš„è¡Œä¸ºæˆ–çŠ¶æ€</strong>ï¼ˆæ¯”å¦‚ä¸€ä¸ªç¼çƒ§æ•ˆæœï¼ŒGEå®Œæˆä¹‹åï¼Œä¾¿å¯ä»¥å–æ¶ˆæ ‡ç­¾ï¼‰ã€‚<br>æˆ‘ç†è§£æ˜¯ä¸€ä¸ªåœ¨Actorä¸‹çš„Jsonã€‚</p>
<ul>
<li>Tagçš„<strong>å±‚çº§å…³ç³»</strong>ä¹Ÿéœ€è¦åˆç†è®¾è®¡ï¼Œåˆ°äº†åæœŸä¿®æ”¹æˆæœ¬æ¯”è¾ƒå¤§ã€‚</li>
</ul>
<h3 id="Attribute-Set"><a href="#Attribute-Set" class="headerlink" title="Attribute Set"></a>Attribute Set</h3><p>è´Ÿè´£å®šä¹‰å’ŒæŒæœ‰å±æ€§ï¼Œå¹¶ä¸”ç®¡ç†å±æ€§çš„<u>å˜åŒ–</u>ï¼ŒåŒ…æ‹¬<u>ç½‘ç»œåŒæ­¥</u>ã€‚<br>éœ€è¦åœ¨Actorä¸­è¢«æ·»åŠ ä¸ºæˆå‘˜å˜é‡ï¼Œå¹¶æ³¨å†Œåˆ°ASCï¼ˆC++ï¼‰ã€‚<br>ä¸€ä¸ªASCå¯ä»¥æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªï¼ˆä¸åŒçš„ï¼‰AttributeSetï¼Œå› æ­¤å¯ä»¥è§’è‰²å…±äº«ä¸€ä¸ªå¾ˆå¤§çš„Attribute Setï¼Œä¹Ÿå¯ä»¥æ¯ä¸ªè§’è‰²æŒ‰éœ€æ·»åŠ Attribute Setã€‚<br>å¯ä»¥åœ¨å±æ€§å˜åŒ–å‰ï¼ˆPreAttributeChangeï¼‰åï¼ˆPostGameplayEffectExecuteï¼‰å¤„ç†ç›¸å…³é€»è¾‘ï¼Œå¯ä»¥é€šè¿‡å§”æ‰˜çš„æ–¹å¼ç»‘å®šå±æ€§å˜åŒ–ã€‚</p>
<h3 id="Player-State"><a href="#Player-State" class="headerlink" title="Player State"></a>Player State</h3><div style="text-align: center;">
  <img src="C:\Users\Eugene\AppData\Roaming\Typora\typora-user-images\image-20251103112836791.png" alt="Player State æ¶æ„ç¤ºæ„å›¾" width="50%" />
</div>
PlayerState æ˜¯ Unreal Engine ä¸­ç”¨äºå­˜å‚¨ç©å®¶ç›¸å…³ä¿¡æ¯çš„ç‰¹æ®Š Actor ç±»ã€‚åœ¨å¤šäººæ¸¸æˆä¸­ï¼ŒPlayerState ä¼šè‡ªåŠ¨åœ¨æœåŠ¡å™¨å’Œæ‰€æœ‰å®¢æˆ·ç«¯ä¹‹é—´å¤åˆ¶ï¼Œéå¸¸é€‚åˆå­˜å‚¨éœ€è¦è·¨ç½‘ç»œåŒæ­¥çš„ç©å®¶æ•°æ®ã€‚

<p>åœ¨ GAS ç³»ç»Ÿä¸­ï¼Œ<u>ASC å¯ä»¥é€‰æ‹©æŒ‚è½½åœ¨ PlayerState ä¸Šè€Œä¸æ˜¯ Character ä¸Š</u>ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li><strong>æŒä¹…æ€§</strong>ï¼šå½“è§’è‰²æ­»äº¡æˆ–é‡ç”Ÿæ—¶ï¼ŒPlayerState ä¾ç„¶å­˜åœ¨ï¼ŒæŠ€èƒ½å’Œå±æ€§æ•°æ®ä¸ä¼šä¸¢å¤±</li>
<li><strong>ç½‘ç»œå¤åˆ¶</strong>ï¼šPlayerState å¤©ç„¶æ”¯æŒç½‘ç»œå¤åˆ¶ï¼Œé€‚åˆå¤šäººæ¸¸æˆåœºæ™¯</li>
<li><strong>UI è®¿é—®</strong>ï¼šUI å¯ä»¥æ›´æ–¹ä¾¿åœ°è®¿é—®ç©å®¶çš„æŠ€èƒ½å’Œå±æ€§ä¿¡æ¯ï¼Œæ— éœ€ä¾èµ–å…·ä½“çš„ Character å®ä¾‹</li>
<li><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>ï¼šå³ä½¿ç©å®¶å¤„äºè§‚å¯Ÿè€…çŠ¶æ€ï¼ˆæ²¡æœ‰ Characterï¼‰ï¼Œä¹Ÿèƒ½ä¿æŒæŠ€èƒ½ç³»ç»Ÿçš„çŠ¶æ€</li>
</ul>
<p>å¸¸è§çš„åšæ³•æ˜¯ï¼š</p>
<ul>
<li><strong>ç©å®¶æ§åˆ¶çš„è§’è‰²</strong>ï¼šASC æ”¾åœ¨ PlayerState ä¸Š</li>
<li><strong>AI æ§åˆ¶çš„è§’è‰²</strong>ï¼šASC ç›´æ¥æ”¾åœ¨ Character ä¸Š</li>
</ul>
<h3 id="ç»„ä»¶æ€»ç»“"><a href="#ç»„ä»¶æ€»ç»“" class="headerlink" title="ç»„ä»¶æ€»ç»“"></a>ç»„ä»¶æ€»ç»“</h3><p>Visualï¼šæŠ€èƒ½çš„è§†è§‰æ•ˆæœï¼ŸGameplayCue<br>Asyncï¼šæŠ€èƒ½çš„é•¿æ—¶è¡ŒåŠ¨ï¼Ÿ(å¼‚æ­¥)GameplayTask<br>Sendï¼šæŠ€èƒ½çš„æ¶ˆæ¯äº‹ä»¶ï¼ŸGamePplayEvent<br>è¿™ä¿©æ˜¯åŒä¸€ä¸ªä¸œè¥¿</p>
<h2 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h2><h3 id="å¼€å¯æ’ä»¶"><a href="#å¼€å¯æ’ä»¶" class="headerlink" title="å¼€å¯æ’ä»¶"></a>å¼€å¯æ’ä»¶</h3><div style="text-align: center;">
  <img src="https://s2.loli.net/2025/10/29/PxXeVshqdbliFYQ.png" alt="image-20251027203033649" width="50%" />
  <img src="https://s2.loli.net/2025/10/29/TmQHkou6jg5PzSN.png" alt="image-20251027203540226" width="50%" />
</div>





<ol>
<li><u>C++é¡¹ç›®</u>ï¼Œå®‰è£…Gameplay Abilityæ’ä»¶ã€‚</li>
<li>åœ¨Toolsèœå•ä¸‹é¢æœ‰GameplayCue Editoræœ‰äº†ï¼Œå°±è¯´æ˜å¼€å¯æˆåŠŸäº†ã€‚</li>
<li>åœ¨æ–°å»ºçš„è“å›¾çš„é¡µé¢å¯ä»¥çœ‹åˆ°GamePlayç›¸å…³çš„ä¸œè¥¿</li>
</ol>
<h3 id="ä½¿ç”¨Riderå¿«é€Ÿæ·»åŠ Unrealç±»"><a href="#ä½¿ç”¨Riderå¿«é€Ÿæ·»åŠ Unrealç±»" class="headerlink" title="ä½¿ç”¨Riderå¿«é€Ÿæ·»åŠ Unrealç±»"></a>ä½¿ç”¨Riderå¿«é€Ÿæ·»åŠ Unrealç±»</h3><div style="text-align: center;">
  <img src="https://s2.loli.net/2025/10/29/kqL2KOeURij69dr.png" alt="image-20251027215401030" width="50%" />
</div>

<p>é€šè¿‡è¿™é‡Œåˆ›å»ºä¸€ä¸ªCharacterã€‚å¯ä»¥å¿«é€Ÿæ‹¥æœ‰ä¸€äº›å¤´æ–‡ä»¶ã€‚</p>
<h3 id="ASCç»„ä»¶æ¶æ„"><a href="#ASCç»„ä»¶æ¶æ„" class="headerlink" title="ASCç»„ä»¶æ¶æ„"></a>ASCç»„ä»¶æ¶æ„</h3><div class="mermaid" style="background: white; border: 1px solid #e1e1e1; border-radius: 4px; padding: 20px;">
classDiagram
  class ACharacter
  class ARPGCharacterBase {
    +AbilitySystemComponent
  }
  class BP_Character {
    +å…¬å…±é€»è¾‘
  }
  class BP_PlayerCharacter {
    -ç»„è£…Cameraç­‰ç»„ä»¶
    -è¾“å…¥ç»‘å®š
  }
  class BP_NPCCharacter
  ACharacter <|-- ARPGCharacterBase
  ARPGCharacterBase <|-- BP_Character
  BP_Character <|-- BP_PlayerCharacter
  BP_Character <|-- BP_NPCCharacter
</div>

<p>ä½ éœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ªACharacterçš„C++ç±»ã€‚</p>
<p>ä¹‹åæƒ³ç”¨è“å›¾ï¼Œå°±ä»è¿™ä¸ªè‡ªå®šä¹‰çš„C++Characterç±»æ´¾ç”Ÿå°±å¯ä»¥äº†ã€‚ </p>
<h3 id="å†™ä¸€ä¸ªBase-GAS-ACharacteræ–‡ä»¶"><a href="#å†™ä¸€ä¸ªBase-GAS-ACharacteræ–‡ä»¶" class="headerlink" title="å†™ä¸€ä¸ªBase GAS ACharacteræ–‡ä»¶"></a>å†™ä¸€ä¸ªBase GAS ACharacteræ–‡ä»¶</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PublicDependencyModuleNames.AddRange(<span class="keyword">new</span> <span class="built_in">string</span>[]</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;Core&quot;</span>, <span class="string">&quot;CoreUObject&quot;</span>, <span class="string">&quot;Engine&quot;</span>, <span class="string">&quot;InputCore&quot;</span>, <span class="string">&quot;EnhancedInput&quot;</span>,</span><br><span class="line">    <span class="string">&quot;GameplayAbilities&quot;</span>,<span class="string">&quot;GameplayTags&quot;</span>,<span class="string">&quot;GameplayTasks&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åœ¨Buildæ–‡ä»¶é‡Œæ·»åŠ å¦‚ä¸‹çš„å†…å®¹GameplayAbilitiesã€GameplayTagsã€GameplayTasksã€‚</p>
<p>åœ¨å¤´æ–‡ä»¶é‡Œé¢æ·»åŠ ä¸€ä¸ªAbilitySystemComponentï¼Œç›´æ¥åœ¨è§’è‰²ä¸ŠæŒ‚è½½ AbilitySystemComponentï¼ˆASCï¼‰ï¼Œå¯ä»¥é€‚é…å¤šäººæ¸¸æˆã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TObjectPtr&lt;UTCGAbilitySystemComponent&gt; AbilitySystemComponent;</span><br></pre></td></tr></table></figure>

<p>åœ¨.cppä¸­æ„é€ å‡½æ•°éƒ¨åˆ†å®ä¾‹åŒ–AbilitySystemComponentï¼ˆASCï¼‰ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ä¾‹åŒ–ASC</span></span><br><span class="line">AbilitySystemComponent = <span class="built_in">CreateDefaultSubobject</span>&lt;UAbilitySystemComponent&gt;(<span class="built_in">TEXT</span>(<span class="string">&quot;AbilitySystem&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>è§’è‰²ç±»ç»§æ‰¿IAbilitySystemInterfaceæ¥å£ï¼Œå¹¶å®ç°GetASCå‡½æ•°</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;AbilitySystemInterface.h&quot;</span></span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ARPG_UNREAL_API</span> ACharacterBase : <span class="keyword">public</span> ACharacter, <span class="keyword">public</span> IAbilitySystemInterface</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function">UAbilitySystemComponent* <span class="title">GetAbilitySystemComponent</span><span class="params">()</span><span class="type">const</span> <span class="keyword">override</span></span>;</span><br></pre></td></tr></table></figure>

<p>åœ¨CPPä¸­å®ç°</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">UAbilitySystemComponent* <span class="title">ACharacterBase::GetAbilitySystemComponent</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> AbilitySystemComponent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ğŸ‘†è¿™é‡Œçš„returnå³ä½¿å†™ä¸ºnullï¼Œä¹Ÿå¯èƒ½å¯èƒ½è°ƒç”¨</p>
<p><em>è¿™ä¸ªåœ¨é¡¹ç›®ä¸­çš„è·¯å¾„åœ¨ï¼šSource&#x2F;TCG_AwesomeLive&#x2F;CharacterSystem&#x2F;TCGCharacterBase.h</em></p>
<h3 id="æŠŠGAæ•°ç»„åŠ å…¥åˆ°Actorä¸­"><a href="#æŠŠGAæ•°ç»„åŠ å…¥åˆ°Actorä¸­" class="headerlink" title="æŠŠGAæ•°ç»„åŠ å…¥åˆ°Actorä¸­"></a>æŠŠGAæ•°ç»„åŠ å…¥åˆ°Actorä¸­</h3><p>å¯ä»¥å°†UEåŸç”Ÿçš„UGameplayAbilityç›´æ¥åŠ å…¥åˆ°éœ€è¦Abilityçš„Actorä¸­ï¼ˆä¹Ÿæ˜¯åŠ åˆ°è¿™ä¸ªBase GAS ACharacteræ–‡ä»¶ä¸­ï¼‰</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UPROPERTY</span>(BlueprintReadOnly, EditAnywhere, Category = <span class="string">&quot;Test|Abilities&quot;</span>)</span><br><span class="line">TArray&lt;TSubclassOf&lt;UGameplayAbility&gt;&gt; CharacterAbilities;</span><br></pre></td></tr></table></figure>

<p><strong>åœ¨C++ä¸­èµ‹äºˆGA</strong>ï¼šæˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬æ‰€æœ‰çš„æŠ€èƒ½å‚¨å­˜åœ¨ä¸€å¼ DAè¡¨ä¹‹ä¸­ï¼Œç„¶åä»DAè¡¨é‡Œè¯»å–æ•°æ®ï¼Œå¹¶ä½¿ç”¨AbilitySystemComponent-&gt;GiveAbilityå°†æ•°æ®èµ‹äºˆASCã€‚</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ èƒ½åŠ›</span></span><br><span class="line"><span class="keyword">for</span>(FTCGAblityInfo&amp; Info : AllAbilitiesInfo)&#123;</span><br><span class="line">    <span class="keyword">if</span> (Info.AbilityClass == <span class="literal">nullptr</span>)</span><br><span class="line">       <span class="keyword">continue</span>;</span><br><span class="line">    CharacterAbilities.<span class="built_in">Add</span>(Info.AbilityClass);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span> StartupAbility : CharacterAbilities)</span><br><span class="line">&#123;</span><br><span class="line">    AbilitySystemComponent-&gt;<span class="built_in">GiveAbility</span>(</span><br><span class="line">       <span class="built_in">FGameplayAbilitySpec</span>(StartupAbility, <span class="number">1</span>, INDEX_NONE, <span class="keyword">this</span>)</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ç»§æ‰¿äº†Base Characterçš„å­ç±»ä¸­ï¼Œçœ‹åˆ°Abilityçš„é€‰é¡¹äº†ã€‚</p>
<div style="text-align: center;">
  <img src="https://s2.loli.net/2025/10/29/KYsEzGVCQ1Ibwre.png" alt="image-20251028184812916" width="50%" />
</div>

<p>èµ‹äºˆGAçš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚åœ¨éœ€è¦çš„è“å›¾ä¸­è°ƒç”¨<u>Give Ability</u>èŠ‚ç‚¹ã€‚è¿˜å¯ä»¥ä½¿ç”¨GEèµ‹äºˆGAã€‚</p>
<h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1X5411V7jh/">å®˜æ–¹æ•™å­¦è§†é¢‘</a>:æˆ‘çœ‹ç€è¿™ä¸ªè§†é¢‘ä½œä¸ºæœ€åˆçš„å…¥é—¨</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/486808688">çŸ¥ä¹GASç³»ç»Ÿå¿«é€Ÿå…¥é—¨</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://dev.epicgames.com/documentation/zh-cn/unreal-engine/gameplay-ability-system-for-unreal-engine">Unrealå®˜æ–¹çš„GASè®²è§£</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1vj4vzkELp?spm_id_from=333.788.player.switch&vd_source=60b376a57ab956cf81ad81ef20747a92&p=14">å…³äºGAçš„è®²è§£</a>ï¼šåˆ«å¿˜äº†å¯ä»¥ç‚¹å¼€Bç«™çš„AIç¿»è¯‘</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Nv42127HS">ä¸€ä¸ªå¾ˆä¸é”™çš„å…³äº</a>GASç³»ç»Ÿå®æ“è®²è§£</p>
</li>
</ol>


            <!-- Tags -->
            


<div class="tags">
    <a href="/tags/Unreal-Engine/">Unreal Engine</a> <a href="/tags/Game-Development/">Game Development</a> <a href="/tags/Gameplay-Ability-System/">Gameplay Ability System</a> <a href="/tags/GAS/">GAS</a> <a href="/tags/C/">C++</a> <a href="/tags/Network-Programming/">Network Programming</a> <a href="/tags/RPG/">RPG</a> <a href="/tags/Game-Framework/">Game Framework</a>
</div>



            <!-- Comments -->
            <div>
                




            </div>
        </div><!-- end content -->
    </section>

    <!-- Table of Contents will be generated by toc-collapse.js -->

</section><!-- end main -->

<!-- After footer scripts -->

<!-- jQuery -->

<script src="/js/jquery.js"></script>


<!-- Custom Code -->

<script src="/js/main.js"></script>


<script src="/js/article-collapse.js"></script>


<script src="/js/toc-collapse.js"></script>


<script src="/js/shadertoy-embed.js"></script>


<script src="/js/image-zoom.js"></script>


<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Code Block Expansion Script -->
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
    // Initialize code block expansion
    function initCodeBlockExpansion() {
        const codeBlocks = document.querySelectorAll('figure.highlight');
        
        codeBlocks.forEach(function(codeBlock) {
            // Skip if already processed
            if (codeBlock.closest('.code-block-container')) return;
            
            // Remove table structure and keep only code content
            const table = codeBlock.querySelector('table');
            if (table) {
                const codeCell = table.querySelector('td.code');
                if (codeCell) {
                    // Create a new pre element with code content
                    const newPre = document.createElement('pre');
                    newPre.className = 'code';
                    newPre.innerHTML = codeCell.innerHTML;
                    
                    // Replace table with pre element
                    codeBlock.innerHTML = '';
                    codeBlock.appendChild(newPre);
                }
            }
            
            // Get the code content height
            const codeContent = codeBlock.querySelector('pre.code');
            if (!codeContent) return;
            
            const actualHeight = codeContent.scrollHeight;
            const maxHeight = 400; // Same as CSS max-height
            
            // Create button container and copy button for all code blocks
            const buttonsContainer = document.createElement('div');
            buttonsContainer.className = 'code-buttons';
            
            // Create copy button (for all code blocks)
            const copyButton = document.createElement('button');
            copyButton.className = 'copy-code-button';
            copyButton.textContent = 'å¤åˆ¶ä»£ç ';
            copyButton.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                copyCodeToClipboard(codeContent, copyButton);
            });
            buttonsContainer.appendChild(copyButton);

            // Only add expansion if content is taller than max height
            if (actualHeight > maxHeight) {
                // Wrap the code block in a container
                const container = document.createElement('div');
                container.className = 'code-block-container collapsed';
                codeBlock.parentNode.insertBefore(container, codeBlock);
                container.appendChild(codeBlock);

                // Create expand button
                const expandButton = document.createElement('button');
                expandButton.className = 'expand-button';
                expandButton.textContent = 'å±•å¼€ä»£ç ';
                buttonsContainer.appendChild(expandButton);

                // Add buttons container to the wrapper
                container.appendChild(buttonsContainer);

                // Add click handler
                expandButton.addEventListener('click', function() {
                    if (container.classList.contains('collapsed')) {
                        // Expand to full screen
                        showFullscreenCode(codeBlock, expandButton);
                    }
                });
            } else {
                // For code blocks that don't need expansion, just add copy button
                const container = document.createElement('div');
                container.className = 'code-block-container';
                codeBlock.parentNode.insertBefore(container, codeBlock);
                container.appendChild(codeBlock);
                container.appendChild(buttonsContainer);
            }
        });
    }
    
    function showFullscreenCode(codeBlock, button) {
        // Create fullscreen modal
        const modal = document.createElement('div');
        modal.className = 'code-fullscreen-modal active';
        
        const content = document.createElement('div');
        content.className = 'code-fullscreen-content';
        
        // Clone the code block and remove any expansion restrictions
        const clonedBlock = codeBlock.cloneNode(true);
        
        // Remove any size restrictions from cloned block
        clonedBlock.style.maxHeight = 'none';
        clonedBlock.style.overflow = 'visible';
        
        // Find and update the pre.code element in cloned block
        const clonedPre = clonedBlock.querySelector('pre.code');
        if (clonedPre) {
            clonedPre.style.maxHeight = 'none';
            clonedPre.style.height = '100%';
            clonedPre.style.overflowY = 'scroll';
            clonedPre.style.overflowX = 'auto';
            clonedPre.style.minHeight = '0';
            // ç¡®ä¿å†…å®¹å®Œå…¨å¯è§
            clonedPre.scrollTop = 0;
        }
        
        content.appendChild(clonedBlock);
        
        // Create close button
        const closeButton = document.createElement('button');
        closeButton.className = 'close-fullscreen';
        closeButton.textContent = 'å…³é—­';
        content.appendChild(closeButton);
        
        modal.appendChild(content);
        document.body.appendChild(modal);
        
        // Prevent body scrolling
        document.body.style.overflow = 'hidden';
        
        // Close handlers
        function closeModal() {
            document.body.removeChild(modal);
            document.body.style.overflow = '';
        }
        
        closeButton.addEventListener('click', closeModal);
        
        // Close on backdrop click
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });
        
        // Close on escape key
        function handleKeydown(e) {
            if (e.key === 'Escape') {
                closeModal();
                document.removeEventListener('keydown', handleKeydown);
            }
        }
        document.addEventListener('keydown', handleKeydown);
    }
    
    // Function to copy code to clipboard
    function copyCodeToClipboard(codeElement, button) {
        let code = codeElement.textContent || codeElement.innerText;
        
        // Use modern Clipboard API if available
        if (navigator.clipboard && window.isSecureContext) {
            navigator.clipboard.writeText(code).then(function() {
                showCopySuccess(button);
            }).catch(function(err) {
                console.error('å¤åˆ¶å¤±è´¥:', err);
                fallbackCopy(code, button);
            });
        } else {
            fallbackCopy(code, button);
        }
    }

    // Fallback copy method for older browsers
    function fallbackCopy(text, button) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.top = '0';
        textArea.style.left = '0';
        textArea.style.width = '2em';
        textArea.style.height = '2em';
        textArea.style.padding = '0';
        textArea.style.border = 'none';
        textArea.style.outline = 'none';
        textArea.style.boxShadow = 'none';
        textArea.style.background = 'transparent';
        
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        
        try {
            const successful = document.execCommand('copy');
            if (successful) {
                showCopySuccess(button);
            }
        } catch (err) {
            console.error('å¤åˆ¶å¤±è´¥:', err);
        }
        
        document.body.removeChild(textArea);
    }

    // Show copy success feedback
    function showCopySuccess(button) {
        const originalText = button.textContent;
        button.classList.add('copied');
        button.textContent = 'å·²å¤åˆ¶ âœ“';
        
        setTimeout(function() {
            button.classList.remove('copied');
            button.textContent = originalText;
        }, 2000);
    }

    // Initialize on page load
    initCodeBlockExpansion();
    
    // Re-initialize if new content is loaded (for SPA-like behavior)
    const observer = new MutationObserver(function(mutations) {
        let needsReinit = false;
        mutations.forEach(function(mutation) {
            if (mutation.addedNodes.length > 0) {
                mutation.addedNodes.forEach(function(node) {
                    if (node.nodeType === 1 && (node.matches('figure.highlight') || node.querySelector('figure.highlight'))) {
                        needsReinit = true;
                    }
                });
            }
        });
        if (needsReinit) {
            setTimeout(initCodeBlockExpansion, 100);
        }
    });
    
    observer.observe(document.body, {
        childList: true,
        subtree: true
    });
});
</script>

<!-- Mermaid Initialization -->
<script type="text/javascript">
    // Wait for document ready
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof mermaid !== 'undefined') {
            // Initialize with proper configuration
            mermaid.initialize({ 
                startOnLoad: false,
                theme: 'default',
                securityLevel: 'loose'
            });
            
            // Find and process mermaid code blocks
            const codeBlocks = document.querySelectorAll('figure.highlight.plaintext .code');
            
            codeBlocks.forEach((codeElement, index) => {
                let code = codeElement.textContent || codeElement.innerText;
                
                // Check if it's a mermaid diagram
                if (code.trim().match(/^(graph|flowchart|sequenceDiagram|classDiagram|stateDiagram|journey|pie|gitgraph|erDiagram)/)) {
                    // Critical fix: Remove ALL leading/trailing whitespace and newlines
                    code = code.trim().replace(/^\s+|\s+$/g, '');
                    
                    // Create mermaid div
                    const mermaidDiv = document.createElement('div');
                    mermaidDiv.className = 'mermaid';
                    // Set the cleaned code without any extra whitespace
                    mermaidDiv.textContent = code;
                    mermaidDiv.id = 'mermaid-diagram-' + index;
                    
                    // Replace the entire figure element
                    const figureElement = codeElement.closest('figure');
                    if (figureElement) {
                        figureElement.parentNode.replaceChild(mermaidDiv, figureElement);
                    }
                }
            });
            
            // Initialize mermaid diagrams with explicit selector
            setTimeout(() => {
                mermaid.init(undefined, document.querySelectorAll('.mermaid'));
            }, 100);
        }
    });
</script>

<!-- ShaderToy Placeholder Processing -->
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
    // Wait a bit for other scripts to load
    setTimeout(function() {
        // Find all elements with shadertoy-placeholder class
        const elements = document.querySelectorAll('.shadertoy-placeholder[data-id]');
        
        console.log('Found shadertoy-placeholder elements:', elements.length);

        elements.forEach(element => {
            const shaderID = element.getAttribute('data-id');
            console.log('Processing shadertoy-placeholder element with ID:', shaderID);
            
            if (shaderID) {
                // Create iframe container
                const container = document.createElement('div');
                container.style.cssText = `
                    position: relative;
                    width: 100%;
                    height: 400px;
                    margin: 20px 0;
                    border: 2px solid #bfbbbb;
                    border-radius: 8px;
                    overflow: hidden;
                    background-color: #f6f6f6;
                `;

                // Create iframe
                const iframe = document.createElement('iframe');
                iframe.src = `https://www.shadertoy.com/embed/${shaderID}?gui=true&t=10&paused=false&muted=false`;
                iframe.style.cssText = `
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    border: none;
                `;
                iframe.allowFullscreen = true;
                iframe.loading = 'lazy';

                container.appendChild(iframe);
                element.parentNode.insertBefore(container, element);
                element.parentNode.removeChild(element);
            }
        });
    }, 1000); // Wait a full second for everything to load
});
</script>

<!-- Disqus Comments -->


</body>

</html>